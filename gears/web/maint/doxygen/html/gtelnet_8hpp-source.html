<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Chameleon: gtelnet.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>gtelnet.hpp</h1><a href="gtelnet_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <span class="comment">// Copyright Derry Bryson, 1999</span>
00003 
00004 <span class="preprocessor">#ifndef INCLUDED_GTELNET_H</span>
00005 <span class="preprocessor"></span><span class="preprocessor">#define INCLUDED_GTELNET_H</span>
00006 <span class="preprocessor"></span>
00007 <span class="preprocessor">#ifdef __GNUG__</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#pragma interface</span>
00009 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00010 <span class="preprocessor"></span>
00011 <span class="preprocessor">#include &lt;string.h&gt;</span>
00012 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00013 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00014 
00015 <span class="preprocessor">#include "<a class="code" href="gterm_8hpp.html">gterm.hpp</a>"</span>
00016 
<a name="l00017"></a><a class="code" href="class_g_telnet.html">00017</a> <span class="keyword">class </span><a class="code" href="class_g_telnet.html">GTelnet</a> : <span class="keyword">public</span> <a class="code" href="class_g_term.html">GTerm</a>
00018 {
00019 <span class="keyword">public</span>:
00020   <span class="keyword">enum</span>
00021   {
00022     <a class="code" href="class_g_telnet.html#w18w0">IAC</a> = 255,       <span class="comment">// start of telnet command (interpret as command)</span>
00023     <a class="code" href="class_g_telnet.html#w18w1">SE</a> = 240,        <span class="comment">// end of subnegotiation params</span>
00024     <a class="code" href="class_g_telnet.html#w18w2">NOP</a> = 241,       <span class="comment">// no operation</span>
00025     <a class="code" href="class_g_telnet.html#w18w3">DATAMARK</a> = 242,  <span class="comment">// data stream portion of sync</span>
00026     <a class="code" href="class_g_telnet.html#w18w4">BREAK</a> = 243,     <span class="comment">// nvt character break</span>
00027     <a class="code" href="class_g_telnet.html#w18w5">IP</a> = 244,        <span class="comment">// interrupt process</span>
00028     <a class="code" href="class_g_telnet.html#w18w6">AO</a> = 245,        <span class="comment">// abort output</span>
00029     <a class="code" href="class_g_telnet.html#w18w7">AYT</a> = 246,       <span class="comment">// are you there?</span>
00030     <a class="code" href="class_g_telnet.html#w18w8">EC</a> = 247,        <span class="comment">// erase character</span>
00031     <a class="code" href="class_g_telnet.html#w18w9">EL</a> = 248,        <span class="comment">// erase line</span>
00032     <a class="code" href="class_g_telnet.html#w18w10">GA</a> = 249,        <span class="comment">// go ahead</span>
00033     <a class="code" href="class_g_telnet.html#w18w11">SB</a> = 250,        <span class="comment">// start of subnegotiation parms</span>
00034     <a class="code" href="class_g_telnet.html#w18w12">WILL</a> = 251,      <span class="comment">// will do option</span>
00035     <a class="code" href="class_g_telnet.html#w18w13">WONT</a> = 252,      <span class="comment">// won't do option</span>
00036     <a class="code" href="class_g_telnet.html#w18w14">DO</a> = 253,        <span class="comment">// do option</span>
00037     <a class="code" href="class_g_telnet.html#w18w15">DONT</a> = 254       <span class="comment">// don't do option</span>
00038   } <a class="code" href="class_g_telnet.html#o0">TELNET_CMDS</a>;
00039         
00040   <span class="keyword">enum</span>
00041   {
00042     <a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a> = 0,        <span class="comment">// RFC 856</span>
00043     <a class="code" href="class_g_telnet.html#w19w17">TERMINAL_TYPE</a> = 24          <span class="comment">// RFC 884</span>
00044   } <a class="code" href="class_g_telnet.html#o1">TELNET_OPTIONS</a>;
00045   
00046 <span class="keyword">private</span>:
00047   <span class="keyword">typedef</span> <span class="keywordtype">void</span> 
<a name="l00048"></a><a class="code" href="class_g_telnet.html#y0">00048</a>     (<a class="code" href="class_g_telnet.html">GTelnet</a>::*<a class="code" href="class_g_telnet.html#y0">StateFunc</a>)();
00049   
<a name="l00050"></a><a class="code" href="struct_g_telnet_1_1_option.html">00050</a>   <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_g_telnet_1_1_option.html">Option</a>
00051   {
<a name="l00052"></a><a class="code" href="struct_g_telnet_1_1_option.html#o0">00052</a>     <span class="keywordtype">int</span> <a class="code" href="struct_g_telnet_1_1_option.html#o0">byte</a>;   <span class="comment">// char value to look for; -1==end/default</span>
<a name="l00053"></a><a class="code" href="struct_g_telnet_1_1_option.html#o1">00053</a>     <a class="code" href="class_g_telnet.html#y0">StateFunc</a> <a class="code" href="struct_g_telnet_1_1_option.html#o1">action</a>;
<a name="l00054"></a><a class="code" href="struct_g_telnet_1_1_option.html#o2">00054</a>     <a class="code" href="struct_g_telnet_1_1_option.html">Option</a> *<a class="code" href="struct_g_telnet_1_1_option.html#o2">next_state</a>;
00055   } <a class="code" href="struct_state_option.html">StateOption</a>;
00056 
00057   <span class="comment">// terminal state</span>
<a name="l00058"></a><a class="code" href="class_g_telnet.html#r0">00058</a>   <a class="code" href="struct_state_option.html">StateOption</a> *<a class="code" href="class_g_telnet.html#r0">telnet_current_state</a>;
00059 
<a name="l00060"></a><a class="code" href="class_g_telnet.html#r1">00060</a>   <span class="keywordtype">int</span> <a class="code" href="class_g_telnet.html#r1">telnet_lastcmd</a>;
<a name="l00061"></a><a class="code" href="class_g_telnet.html#r2">00061</a>   <span class="keywordtype">int</span> <a class="code" href="class_g_telnet.html#r2">telnet_binary_recv</a>;
<a name="l00062"></a><a class="code" href="class_g_telnet.html#r3">00062</a>   <span class="keywordtype">int</span> <a class="code" href="class_g_telnet.html#r3">telnet_binary_send</a>;
<a name="l00063"></a><a class="code" href="class_g_telnet.html#r4">00063</a>   <span class="keywordtype">int</span> <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a>;
<a name="l00064"></a><a class="code" href="class_g_telnet.html#r5">00064</a>   <span class="keywordtype">char</span> *<a class="code" href="class_g_telnet.html#r5">telnet_termid</a>;
<a name="l00065"></a><a class="code" href="class_g_telnet.html#r6">00065</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="class_g_telnet.html#r6">telnet_input_data</a>;
00066         
00067   <span class="comment">// </span>
00068   <span class="comment">//  Define state tables</span>
00069   <span class="comment">//</span>
00070   <span class="keyword">static</span> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_telnet.html#v0">telnet_normal_state</a>[];
00071   <span class="keyword">static</span> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_telnet.html#v1">telnet_cmd_state</a>[];
00072   <span class="keyword">static</span> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_telnet.html#v2">telnet_sub_state</a>[];
00073   <span class="keyword">static</span> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_telnet.html#v3">telnet_do_state</a>[];
00074   <span class="keyword">static</span> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_telnet.html#v4">telnet_will_state</a>[];
00075   <span class="keyword">static</span> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_telnet.html#v5">telnet_dont_state</a>[];
00076   
00077   <span class="comment">//</span>
00078   <span class="comment">//  Define Actions</span>
00079   <span class="comment">//</span>
00080   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#d0">telnet_iac</a>(<span class="keywordtype">void</span>);
00081   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#d1">telnet_binary_iac</a>(<span class="keywordtype">void</span>);
00082   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#d2">telnet_eat</a>(<span class="keywordtype">void</span>);
00083   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#d3">telnet_cmd</a>(<span class="keywordtype">void</span>);
00084   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#d4">telnet_do</a>(<span class="keywordtype">void</span>);
00085   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#d5">telnet_will</a>(<span class="keywordtype">void</span>);
00086   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#d6">telnet_dont</a>(<span class="keywordtype">void</span>);
00087   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#d7">telnet_wont</a>(<span class="keywordtype">void</span>);
00088           
00089 <span class="keyword">public</span>:
00090   <a class="code" href="class_g_telnet.html#a0">GTelnet</a>(<span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h);
00091   <span class="keyword">virtual</span> <a class="code" href="class_g_telnet.html#a1">~GTelnet</a>();
00092 
00093   <span class="comment">// function to control terminal</span>
00094   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#a2">ProcessInput</a>(<span class="keywordtype">int</span> len, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data);
00095   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#a3">ProcessOutput</a>(<span class="keywordtype">int</span> len, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data);
00096   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#a4">ModeChange</a>(<span class="keywordtype">int</span> state);
00097   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#a5">Reset</a>();
00098     
00099   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#a6">SetTermID</a>(<span class="keywordtype">char</span> *termId);
<a name="l00100"></a><a class="code" href="class_g_telnet.html#a7">00100</a>   <span class="keywordtype">char</span> *<a class="code" href="class_g_telnet.html#a7">GetTermID</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <a class="code" href="class_g_telnet.html#r5">telnet_termid</a>; }
00101   
00102   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#a8">SendDo</a>(<span class="keywordtype">int</span> cmd);
00103   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#a9">SendWill</a>(<span class="keywordtype">int</span> cmd);
00104   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#a10">SendDont</a>(<span class="keywordtype">int</span> cmd);
00105   <span class="keywordtype">void</span> <a class="code" href="class_g_telnet.html#a11">SendWont</a>(<span class="keywordtype">int</span> cmd);
00106 };
00107 
00108 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Apr 6 20:03:58 2004 for Chameleon by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
