<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Chameleon: process2.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>process2.h</h1><a href="process2_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <span class="comment">//</span>
00003 <span class="comment">// Notes:</span>
00004 <span class="comment">//   * wxProcess2 self-destructs. (I delete myself upon process term)</span>
00005 <span class="comment">//   * When you first create a wxProcess2, and call wxExecute with it,</span>
00006 <span class="comment">//       you need to call .SetPID(long); to set it's Process ID.</span>
00007 <span class="comment">//        **This is a temporary solution (I hope)</span>
00008 <span class="comment">//   * Don't use this class if you don't have streams enabled.  This</span>
00009 <span class="comment">//      class would be pointless otherwise.</span>
00010 <span class="comment">//   * "we don't have any way to be notified when any input appears on</span>
00011 <span class="comment">//       the stream so we have to poll it" - wxWindows: exec.cpp</span>
00012 <span class="comment">//     That is the approach I take, at a constant interval I check for</span>
00013 <span class="comment">//       new stdout/stderr.</span>
00014 <span class="comment">//</span>
00015 <span class="comment">//</span>
00016 <span class="comment">// TODO:</span>
00017 <span class="comment">//   * What if I don't get a timer??  Similar to :</span>
00018 <span class="comment">//      "I'm using the boolean pauseTimer instead of actually starting</span>
00019 <span class="comment">//       nd stopping the timer.  Stopping the timer would prevent</span>
00020 <span class="comment">//       TimerEvents from constantly happening (aka. more efficient).</span>
00021 <span class="comment">//       But, wxWin documentation seems to indicate Windows timers</span>
00022 <span class="comment">//       are limited in number, so, if I get a timer allocated to</span>
00023 <span class="comment">//       me - keep it!"</span>
00024 <span class="comment">//</span>
00025 <span class="comment">//</span>
00027 <span class="comment"></span><span class="preprocessor">#ifndef __WXPROCESS2__H__</span>
00028 <span class="preprocessor"></span><span class="preprocessor">#define __WXPROCESS2__H__</span>
00029 <span class="preprocessor"></span>
00030 <span class="preprocessor">#include &lt;wx/process.h&gt;</span>
00031 <span class="preprocessor">#include &lt;wx/event.h&gt;</span>
00032 <span class="preprocessor">#include &lt;wx/timer.h&gt;</span>
00033 <span class="preprocessor">#include "../common/debug.h"</span>
00034 <span class="preprocessor">#include "<a class="code" href="process2events_8h.html">process2events.h</a>"</span>
00035 
<a name="l00036"></a><a class="code" href="process2_8h.html#a0">00036</a> <span class="preprocessor">#define POLL_RATE 10 //milliseconds</span>
00037 <span class="preprocessor"></span>
<a name="l00038"></a><a class="code" href="classwx_process2.html">00038</a> <span class="keyword">class </span><a class="code" href="classwx_process2.html">wxProcess2</a> : <span class="keyword">public</span> wxProcess
00039 {
00040     <span class="keyword">public</span>:
00041         <a class="code" href="classwx_process2.html#a0">wxProcess2</a>(wxEvtHandler *parent = (wxEvtHandler *) <a class="code" href="_crc16_8h.html#a0">NULL</a>, <span class="keywordtype">int</span> <span class="keywordtype">id</span> = -1);
00042         <a class="code" href="classwx_process2.html#a0">wxProcess2</a>(<span class="keywordtype">int</span> flags);
00043         <a class="code" href="classwx_process2.html#a2">~wxProcess2</a>();
00044 
00045         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classwx_process2.html#a3">Detach</a>(); <span class="comment">// Call this when done with a live process</span>
00046 
00047     <span class="keyword">private</span>:
00048         <span class="keywordtype">void</span> <a class="code" href="classwx_process2.html#d0">OnTimerEvent</a>(wxTimerEvent &amp;e);
00049         <span class="keywordtype">void</span> <a class="code" href="classwx_process2.html#d1">OnTerminate</a>(<span class="keywordtype">int</span> pid, <span class="keywordtype">int</span> status);
00050         <span class="keywordtype">void</span> <a class="code" href="classwx_process2.html#d2">PollOutputs</a>();
00051 
00052     <span class="keyword">protected</span>:
<a name="l00053"></a><a class="code" href="classwx_process2.html#p0">00053</a>         wxTimer <a class="code" href="classwx_process2.html#p0">m_timer</a>;
00054 
00055     <span class="comment">//I think the following should be moved into wxProcess:</span>
00056     <span class="keyword">public</span>:
00057         <span class="keywordtype">void</span> <a class="code" href="classwx_process2.html#a4">SetPID</a>(<span class="keywordtype">long</span> pid);
00058     <span class="keyword">private</span>:
<a name="l00059"></a><a class="code" href="classwx_process2.html#r0">00059</a>         <span class="keywordtype">long</span> <a class="code" href="classwx_process2.html#r0">m_pid</a>;
00060 
00061 
00062     DECLARE_EVENT_TABLE()
00063 };
00064 
00065 <span class="preprocessor">#endif // __WXPROCESS2__H__</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Apr 6 20:03:58 2004 for Chameleon by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
