<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Chameleon: states.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>states.cpp</h1><a href="states_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* GRG: Added a lot of GTerm:: prefixes to correctly form pointers</span>
00002 <span class="comment"> *   to functions in all the tables. Example: &amp;cr -&gt; &amp;GTerm::cr</span>
00003 <span class="comment"> */</span>
00004 
00005 <span class="comment">// Copyright Timothy Miller, 1999</span>
00006 
00007 <span class="preprocessor">#include "<a class="code" href="gterm_8hpp.html">gterm.hpp</a>"</span>
00008 <span class="comment">/*</span>
00009 <span class="comment">#ifdef _DEBUG</span>
00010 <span class="comment">#define new DEBUG_NEW</span>
00011 <span class="comment">#endif</span>
00012 <span class="comment">*/</span>
00013 <span class="comment">// state machine transition tables</span>
<a name="l00014"></a><a class="code" href="class_g_term.html#v0">00014</a> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_term.html#v0">GTerm::normal_state</a>[] = {
00015     { 13, &amp;<a class="code" href="class_g_term.html#d20">GTerm::cr</a>,      normal_state },
00016     { 10, &amp;<a class="code" href="class_g_term.html#d21">GTerm::lf</a>,      normal_state },
00017     { 12, &amp;<a class="code" href="class_g_term.html#d22">GTerm::ff</a>,      normal_state },
00018     { 9,  &amp;<a class="code" href="class_g_term.html#d24">GTerm::tab</a>,     normal_state },
00019     { 8,  &amp;<a class="code" href="class_g_term.html#d25">GTerm::bs</a>,      normal_state },
00020     { 7,  &amp;<a class="code" href="class_g_term.html#d23">GTerm::bell</a>,        normal_state },
00021     { 27, 0,        esc_state },
00022     { -1, &amp;<a class="code" href="class_g_term.html#d14">GTerm::normal_input</a>,    normal_state} };
00023 
<a name="l00024"></a><a class="code" href="class_g_term.html#v1">00024</a> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_term.html#v1">GTerm::esc_state</a>[] = {
00025     { <span class="charliteral">'['</span>, &amp;<a class="code" href="class_g_term.html#d17">GTerm::clear_param</a>,    bracket_state },
00026     { <span class="charliteral">'&gt;'</span>, &amp;<a class="code" href="class_g_term.html#d26">GTerm::keypad_numeric</a>, normal_state },
00027     { <span class="charliteral">'='</span>, &amp;<a class="code" href="class_g_term.html#d27">GTerm::keypad_application</a>, normal_state },
00028     { <span class="charliteral">'7'</span>, &amp;<a class="code" href="class_g_term.html#d28">GTerm::save_cursor</a>,    normal_state },
00029     { <span class="charliteral">'8'</span>, &amp;<a class="code" href="class_g_term.html#d29">GTerm::restore_cursor</a>, normal_state },
00030     { <span class="charliteral">'H'</span>, &amp;<a class="code" href="class_g_term.html#d30">GTerm::set_tab</a>,    normal_state },
00031     { <span class="charliteral">'D'</span>, &amp;<a class="code" href="class_g_term.html#d31">GTerm::index_down</a>, normal_state },
00032     { <span class="charliteral">'M'</span>, &amp;<a class="code" href="class_g_term.html#d32">GTerm::index_up</a>,   normal_state },
00033     { <span class="charliteral">'E'</span>, &amp;<a class="code" href="class_g_term.html#d33">GTerm::next_line</a>,  normal_state },
00034     { <span class="charliteral">'c'</span>, &amp;<a class="code" href="class_g_term.html#d34">GTerm::reset</a>,      normal_state },
00035     { <span class="charliteral">'('</span>, 0,       cset_shiftin_state },
00036     { <span class="charliteral">')'</span>, 0,       cset_shiftout_state },
00037     { <span class="charliteral">'#'</span>, 0,       hash_state },
00038 <span class="preprocessor">#ifdef GTERM_PC</span>
00039 <span class="preprocessor"></span>        { <span class="charliteral">'!'</span>, &amp;<a class="code" href="class_g_term.html#d2">GTerm::pc_begin</a>,       pc_cmd_state },
00040 <span class="preprocessor">#endif        </span>
00041 <span class="preprocessor"></span>
00042     { 13, &amp;<a class="code" href="class_g_term.html#d20">GTerm::cr</a>,      esc_state },    <span class="comment">// standard VT100 wants</span>
00043     { 10, &amp;<a class="code" href="class_g_term.html#d21">GTerm::lf</a>,      esc_state },    <span class="comment">// cursor controls in</span>
00044     { 12, &amp;<a class="code" href="class_g_term.html#d22">GTerm::ff</a>,      esc_state },    <span class="comment">// the middle of ESC </span>
00045     { 9,  &amp;<a class="code" href="class_g_term.html#d24">GTerm::tab</a>,     esc_state },    <span class="comment">// sequences</span>
00046     { 8,  &amp;<a class="code" href="class_g_term.html#d25">GTerm::bs</a>,      esc_state },
00047     { 7,  &amp;<a class="code" href="class_g_term.html#d23">GTerm::bell</a>,        esc_state },
00048     { -1, 0, normal_state} };
00049 
00050 <span class="comment">// Should but cursor control characters in these groups as well.</span>
00051 <span class="comment">// Maybe later.</span>
00052 
<a name="l00053"></a><a class="code" href="class_g_term.html#v3">00053</a> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_term.html#v3">GTerm::cset_shiftin_state</a>[] = {
00054     { <span class="charliteral">'A'</span>, 0,       normal_state }, <span class="comment">// should set UK characters</span>
00055     { <span class="charliteral">'0'</span>, 0,       normal_state }, <span class="comment">// should set Business Gfx</span>
00056     { -1, 0,        normal_state }, <span class="comment">// default to ASCII</span>
00057     };
00058 
<a name="l00059"></a><a class="code" href="class_g_term.html#v4">00059</a> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_term.html#v4">GTerm::cset_shiftout_state</a>[] = {
00060     { <span class="charliteral">'A'</span>, 0,       normal_state }, <span class="comment">// should set UK characters</span>
00061     { <span class="charliteral">'0'</span>, 0,       normal_state }, <span class="comment">// should set Business Gfx</span>
00062     { -1, 0,        normal_state }, <span class="comment">// default to ASCII</span>
00063     };
00064 
<a name="l00065"></a><a class="code" href="class_g_term.html#v5">00065</a> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_term.html#v5">GTerm::hash_state</a>[] = {
00066     { <span class="charliteral">'8'</span>, &amp;<a class="code" href="class_g_term.html#d54">GTerm::screen_align</a>,   normal_state },
00067     { -1, 0, normal_state} };
00068 
<a name="l00069"></a><a class="code" href="class_g_term.html#v2">00069</a> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_term.html#v2">GTerm::bracket_state</a>[] = {
00070     { <span class="charliteral">'?'</span>, &amp;<a class="code" href="class_g_term.html#d15">GTerm::set_q_mode</a>, bracket_state },
00071     { <span class="charliteral">'"'</span>, &amp;<a class="code" href="class_g_term.html#d16">GTerm::set_quote_mode</a>, bracket_state },
00072     { <span class="charliteral">'0'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00073     { <span class="charliteral">'1'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00074     { <span class="charliteral">'2'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00075     { <span class="charliteral">'3'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00076     { <span class="charliteral">'4'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00077     { <span class="charliteral">'5'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00078     { <span class="charliteral">'6'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00079     { <span class="charliteral">'7'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00080     { <span class="charliteral">'8'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00081     { <span class="charliteral">'9'</span>, &amp;<a class="code" href="class_g_term.html#d18">GTerm::param_digit</a>,    bracket_state },
00082     { <span class="charliteral">';'</span>, &amp;<a class="code" href="class_g_term.html#d19">GTerm::next_param</a>, bracket_state },
00083     { <span class="charliteral">'D'</span>, &amp;<a class="code" href="class_g_term.html#d35">GTerm::cursor_left</a>,    normal_state },
00084     { <span class="charliteral">'B'</span>, &amp;<a class="code" href="class_g_term.html#d36">GTerm::cursor_down</a>,    normal_state },
00085     { <span class="charliteral">'C'</span>, &amp;<a class="code" href="class_g_term.html#d37">GTerm::cursor_right</a>,   normal_state },
00086     { <span class="charliteral">'A'</span>, &amp;<a class="code" href="class_g_term.html#d38">GTerm::cursor_up</a>,  normal_state },
00087     { <span class="charliteral">'H'</span>, &amp;<a class="code" href="class_g_term.html#d39">GTerm::cursor_position</a>,    normal_state },
00088     { <span class="charliteral">'f'</span>, &amp;<a class="code" href="class_g_term.html#d39">GTerm::cursor_position</a>,    normal_state },
00089     { <span class="charliteral">'c'</span>, &amp;<a class="code" href="class_g_term.html#d40">GTerm::device_attrib</a>,  normal_state },
00090     { <span class="charliteral">'P'</span>, &amp;<a class="code" href="class_g_term.html#d41">GTerm::delete_char</a>,    normal_state },
00091     { <span class="charliteral">'h'</span>, &amp;<a class="code" href="class_g_term.html#d42">GTerm::set_mode</a>,   normal_state },
00092     { <span class="charliteral">'l'</span>, &amp;<a class="code" href="class_g_term.html#d43">GTerm::clear_mode</a>, normal_state },
00093     { <span class="charliteral">'s'</span>, &amp;<a class="code" href="class_g_term.html#d28">GTerm::save_cursor</a>,    normal_state },
00094     { <span class="charliteral">'u'</span>, &amp;<a class="code" href="class_g_term.html#d29">GTerm::restore_cursor</a>, normal_state },
00095     { <span class="charliteral">'x'</span>, &amp;<a class="code" href="class_g_term.html#d44">GTerm::request_param</a>,  normal_state },
00096     { <span class="charliteral">'r'</span>, &amp;<a class="code" href="class_g_term.html#d45">GTerm::set_margins</a>,    normal_state },
00097     { <span class="charliteral">'M'</span>, &amp;<a class="code" href="class_g_term.html#d46">GTerm::delete_line</a>,    normal_state },
00098     { <span class="charliteral">'n'</span>, &amp;<a class="code" href="class_g_term.html#d47">GTerm::status_report</a>,  normal_state },
00099     { <span class="charliteral">'J'</span>, &amp;<a class="code" href="class_g_term.html#d48">GTerm::erase_display</a>,  normal_state },
00100     { <span class="charliteral">'K'</span>, &amp;<a class="code" href="class_g_term.html#d49">GTerm::erase_line</a>, normal_state },
00101     { <span class="charliteral">'L'</span>, &amp;<a class="code" href="class_g_term.html#d50">GTerm::insert_line</a>,    normal_state },
00102     { <span class="charliteral">'m'</span>, &amp;<a class="code" href="class_g_term.html#d51">GTerm::set_colors</a>, normal_state },
00103     { <span class="charliteral">'g'</span>, &amp;<a class="code" href="class_g_term.html#d52">GTerm::clear_tab</a>,  normal_state },
00104     { <span class="charliteral">'@'</span>, &amp;<a class="code" href="class_g_term.html#d53">GTerm::insert_char</a>,    normal_state },
00105     { <span class="charliteral">'X'</span>, &amp;<a class="code" href="class_g_term.html#d55">GTerm::erase_char</a>, normal_state },
00106     { <span class="charliteral">'p'</span>, 0,       normal_state }, <span class="comment">// something to do with levels</span>
00107 
00108     { 13, &amp;<a class="code" href="class_g_term.html#d20">GTerm::cr</a>,      bracket_state },<span class="comment">// standard VT100 wants</span>
00109     { 10, &amp;<a class="code" href="class_g_term.html#d21">GTerm::lf</a>,      bracket_state },<span class="comment">// cursor controls in</span>
00110     { 12, &amp;<a class="code" href="class_g_term.html#d22">GTerm::ff</a>,      bracket_state },<span class="comment">// the middle of ESC </span>
00111     { 9,  &amp;<a class="code" href="class_g_term.html#d24">GTerm::tab</a>,     bracket_state },<span class="comment">// sequences</span>
00112     { 8,  &amp;<a class="code" href="class_g_term.html#d25">GTerm::bs</a>,      bracket_state },
00113     { 7,  &amp;<a class="code" href="class_g_term.html#d23">GTerm::bell</a>,        bracket_state },
00114     { -1, 0, normal_state} };
00115 
00116 <span class="preprocessor">#ifdef GTERM_PC</span>
00117 <span class="preprocessor"></span>
<a name="l00118"></a><a class="code" href="class_g_term.html#v16">00118</a> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_term.html#v16">GTerm::pc_cmd_state</a>[] =
00119 {
00120         { <a class="code" href="gterm_8hpp.html#a7">GTERM_PC_CMD_CURONOFF</a>,        &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_arg_state },
00121         { <a class="code" href="gterm_8hpp.html#a8">GTERM_PC_CMD_MOVECURSOR</a>,      &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_arg_state },
00122         { <a class="code" href="gterm_8hpp.html#a9">GTERM_PC_CMD_PUTTEXT</a>,         &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_arg_state },
00123         { <a class="code" href="gterm_8hpp.html#a10">GTERM_PC_CMD_WRITE</a>,           &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_arg_state },
00124         { <a class="code" href="gterm_8hpp.html#a11">GTERM_PC_CMD_MOVETEXT</a>,        &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_arg_state },
00125         { <a class="code" href="gterm_8hpp.html#a6">GTERM_PC_CMD_EXIT</a>,            &amp;<a class="code" href="class_g_term.html#d3">GTerm::pc_end</a>,     normal_state },
00126         { <a class="code" href="gterm_8hpp.html#a12">GTERM_PC_CMD_BEEP</a>,            &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_cmd_state },
00127         { <a class="code" href="gterm_8hpp.html#a13">GTERM_PC_CMD_SELECTPRINTER</a>,   &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_arg_state },
00128         { <a class="code" href="gterm_8hpp.html#a14">GTERM_PC_CMD_PRINTCHAR</a>,       &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_arg_state },
00129         { <a class="code" href="gterm_8hpp.html#a15">GTERM_PC_CMD_PRINTCHARS</a>,      &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_arg_state },
00130         { -1,                           &amp;<a class="code" href="class_g_term.html#d4">GTerm::pc_cmd</a>,     pc_cmd_state }
00131 };
00132 
<a name="l00133"></a><a class="code" href="class_g_term.html#v17">00133</a> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_term.html#v17">GTerm::pc_arg_state</a>[] =
00134 {
00135         { -1,                           &amp;<a class="code" href="class_g_term.html#d5">GTerm::pc_arg</a>,     pc_arg_state }
00136 };
00137 
<a name="l00138"></a><a class="code" href="class_g_term.html#v18">00138</a> <a class="code" href="struct_state_option.html">StateOption</a> <a class="code" href="class_g_term.html#v18">GTerm::pc_data_state</a>[] =
00139 {
00140         { -1,                           &amp;<a class="code" href="class_g_term.html#d6">GTerm::pc_data</a>,    pc_data_state }
00141 };
00142 
00143 <span class="preprocessor">#endif // GTERM_PC</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Apr 28 16:45:38 2004 for Chameleon by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
