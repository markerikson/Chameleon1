<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Chameleon: gtelnet.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>gtelnet.cpp</h1><a href="gtelnet_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* GRG: Added a lot of GTelnet:: prefixes to correctly form pointers</span>
00002 <span class="comment"> *   to functions in all the tables. Example:</span>
00003 <span class="comment"> *   &amp;telnet_iac -&gt; &amp;GTelnet::telnet_iac</span>
00004 <span class="comment"> */</span>
00005 
00006 <span class="comment">// Copyright (c) Derry Bryson, 1999</span>
00007 
00008 <span class="preprocessor">#ifdef __GNUG__</span>
00009 <span class="preprocessor"></span><span class="preprocessor">    #pragma implementation "gtelnet.hpp"</span>
00010 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00011 <span class="preprocessor"></span>
00012 <span class="preprocessor">#include "<a class="code" href="gterm_8hpp.html">gterm.hpp</a>"</span>
00013 <span class="preprocessor">#include "<a class="code" href="gtelnet_8hpp.html">gtelnet.hpp</a>"</span>
00014 
00015 
<a name="l00016"></a><a class="code" href="class_g_telnet.html#v0">00016</a> <a class="code" href="class_g_telnet.html#y1">GTelnet::StateOption</a> <a class="code" href="class_g_telnet.html#v0">GTelnet::telnet_normal_state</a>[] =
00017 {
00018   { IAC,         &amp;<a class="code" href="class_g_telnet.html#d0">GTelnet::telnet_iac</a>,         telnet_cmd_state },
00019   { -1,          0,                   telnet_normal_state }
00020 };
00021   
<a name="l00022"></a><a class="code" href="class_g_telnet.html#v1">00022</a> <a class="code" href="class_g_telnet.html#y1">GTelnet::StateOption</a> <a class="code" href="class_g_telnet.html#v1">GTelnet::telnet_cmd_state</a>[] = 
00023 {
00024   { IAC,         &amp;<a class="code" href="class_g_telnet.html#d1">GTelnet::telnet_binary_iac</a>,  telnet_normal_state },
00025   { NOP,         &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00026   { DATAMARK,    &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00027   { BREAK,       &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00028   { IP,          &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00029   { AO,          &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00030   { AYT,         &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00031   { EC,          &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00032   { EL,          &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00033   { GA,          &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00034   { SB,          &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_sub_state },
00035   { WILL,        &amp;<a class="code" href="class_g_telnet.html#d3">GTelnet::telnet_cmd</a>,         telnet_will_state },
00036   { WONT,        &amp;<a class="code" href="class_g_telnet.html#d3">GTelnet::telnet_cmd</a>,         telnet_normal_state },
00037   { DO,          &amp;<a class="code" href="class_g_telnet.html#d3">GTelnet::telnet_cmd</a>,         telnet_do_state },
00038   { DONT,        &amp;<a class="code" href="class_g_telnet.html#d3">GTelnet::telnet_cmd</a>,         telnet_dont_state },
00039   { -1,          &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state }
00040 };        
00041 
<a name="l00042"></a><a class="code" href="class_g_telnet.html#v2">00042</a> <a class="code" href="class_g_telnet.html#y1">GTelnet::StateOption</a> <a class="code" href="class_g_telnet.html#v2">GTelnet::telnet_sub_state</a>[] =
00043 {
00044   { SE,          &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_normal_state },
00045   { -1,          &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,         telnet_sub_state }
00046 };
00047 
<a name="l00048"></a><a class="code" href="class_g_telnet.html#v4">00048</a> <a class="code" href="class_g_telnet.html#y1">GTelnet::StateOption</a> <a class="code" href="class_g_telnet.html#v4">GTelnet::telnet_will_state</a>[] =
00049 {
00050   { TRANSMIT_BINARY,      &amp;<a class="code" href="class_g_telnet.html#d5">GTelnet::telnet_will</a>,            telnet_normal_state },
00051   { -1,                   &amp;<a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>,             telnet_normal_state }
00052 };
00053 
<a name="l00054"></a><a class="code" href="class_g_telnet.html#v3">00054</a> <a class="code" href="class_g_telnet.html#y1">GTelnet::StateOption</a> <a class="code" href="class_g_telnet.html#v3">GTelnet::telnet_do_state</a>[] =
00055 {
00056   { TRANSMIT_BINARY,      &amp;<a class="code" href="class_g_telnet.html#d4">GTelnet::telnet_do</a>,              telnet_normal_state },
00057   { TERMINAL_TYPE,        &amp;<a class="code" href="class_g_telnet.html#d4">GTelnet::telnet_do</a>,              telnet_normal_state },
00058   { -1,                   &amp;<a class="code" href="class_g_telnet.html#d7">GTelnet::telnet_wont</a>,            telnet_normal_state }
00059 };
00060 
<a name="l00061"></a><a class="code" href="class_g_telnet.html#v5">00061</a> <a class="code" href="class_g_telnet.html#y1">GTelnet::StateOption</a> <a class="code" href="class_g_telnet.html#v5">GTelnet::telnet_dont_state</a>[] =
00062 {
00063   { TRANSMIT_BINARY,      &amp;<a class="code" href="class_g_telnet.html#d6">GTelnet::telnet_dont</a>,            telnet_normal_state },
00064   { TERMINAL_TYPE,        &amp;<a class="code" href="class_g_telnet.html#d6">GTelnet::telnet_dont</a>,            telnet_normal_state },
00065   { -1,                   &amp;<a class="code" href="class_g_telnet.html#d6">GTelnet::telnet_dont</a>,            telnet_normal_state }
00066 };
00067 
<a name="l00068"></a><a class="code" href="class_g_telnet.html#a0">00068</a> <a class="code" href="class_g_telnet.html#a0">GTelnet::GTelnet</a>(<span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h) : <a class="code" href="class_g_term.html">GTerm</a>(w, h)
00069 {
00070   <a class="code" href="class_g_telnet.html#r2">telnet_binary_recv</a> = 0;
00071   <a class="code" href="class_g_telnet.html#r3">telnet_binary_send</a> = 0;
00072   <a class="code" href="class_g_telnet.html#r5">telnet_termid</a> = strdup(<span class="stringliteral">"vt100"</span>);
00073   <a class="code" href="class_g_telnet.html#r0">telnet_current_state</a> = telnet_normal_state;
00074 }
00075 
<a name="l00076"></a><a class="code" href="class_g_telnet.html#a1">00076</a> <a class="code" href="class_g_telnet.html#a1">GTelnet::~GTelnet</a>()
00077 {
00078   <span class="keywordflow">if</span>(<a class="code" href="class_g_telnet.html#r5">telnet_termid</a>)
00079    free(<a class="code" href="class_g_telnet.html#r5">telnet_termid</a>);
00080 }
00081 
00082 <span class="keywordtype">void</span>
<a name="l00083"></a><a class="code" href="class_g_telnet.html#a2">00083</a> <a class="code" href="class_g_telnet.html#a2">GTelnet::ProcessInput</a>(<span class="keywordtype">int</span> len, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data)
00084 {
00085 <span class="comment">//printf("GTelnet::ProcessInput called...\n");</span>
00086   <span class="keywordtype">int</span>
00087     deferUpdate,
00088     i;
00089 
00090   <a class="code" href="struct_state_option.html">StateOption</a>
00091     *last_state;
00092 
00093   deferUpdate = <a class="code" href="class_g_term.html#a19">GetMode</a>() &amp; DEFERUPDATE;
00094   <a class="code" href="class_g_term.html#a20">SetMode</a>(<a class="code" href="class_g_term.html#a19">GetMode</a>() | DEFERUPDATE);
00095 
00096   <a class="code" href="class_g_telnet.html#r6">telnet_input_data</a> = data;
00097 
00098   <span class="keywordflow">while</span>(len)
00099   {
00100 <span class="comment">//printf("GTelnet::ProcessInput(): processing %d, mode = %x...\n", *telnet_input_data, GetMode());</span>
00101     <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a> = 1;
00102     <span class="keywordflow">for</span>(i = 0;
00103         <a class="code" href="class_g_telnet.html#r0">telnet_current_state</a>[i].<a class="code" href="struct_state_option.html#o0">byte</a> != -1 &amp;&amp;
00104         <a class="code" href="class_g_telnet.html#r0">telnet_current_state</a>[i].<a class="code" href="struct_state_option.html#o0">byte</a> != *<a class="code" href="class_g_telnet.html#r6">telnet_input_data</a>; i++)
00105       ;
00106     last_state = <a class="code" href="class_g_telnet.html#r0">telnet_current_state</a> + i;
00107     <a class="code" href="class_g_telnet.html#r0">telnet_current_state</a> = last_state-&gt;<a class="code" href="struct_state_option.html#o2">next_state</a>;
00108     <span class="keywordflow">if</span>(last_state-&gt;<a class="code" href="struct_state_option.html#o1">action</a>)
00109       (this-&gt;*(last_state-&gt;<a class="code" href="struct_state_option.html#o1">action</a>))();
00110     <span class="keywordflow">if</span>(<a class="code" href="class_g_telnet.html#r4">telnet_process_data</a>)
00111       <a class="code" href="class_g_term.html#a2">GTerm::ProcessInput</a>(1, <a class="code" href="class_g_telnet.html#r6">telnet_input_data</a>);
00112     <a class="code" href="class_g_telnet.html#r6">telnet_input_data</a>++;
00113     len--;
00114   }
00115   <span class="keywordflow">if</span>(!deferUpdate)
00116   {
00117     <a class="code" href="class_g_term.html#a20">SetMode</a>(<a class="code" href="class_g_term.html#a19">GetMode</a>() &amp; ~DEFERUPDATE);
00118     <a class="code" href="class_g_term.html#a8">Update</a>();
00119   }
00120 <span class="comment">//printf("GTelnet::ProcessInput(): mode = %x\n", GetMode());</span>
00121 }
00122 
00123 <span class="keywordtype">void</span>
<a name="l00124"></a><a class="code" href="class_g_telnet.html#a3">00124</a> <a class="code" href="class_g_telnet.html#a3">GTelnet::ProcessOutput</a>(<span class="keywordtype">int</span> len, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data)
00125 {
00126   <span class="keywordflow">while</span>(len)
00127   {
00128     <span class="keywordflow">if</span>(<a class="code" href="class_g_telnet.html#r3">telnet_binary_send</a> &amp;&amp; *data == 255)
00129       <a class="code" href="class_g_term.html#a3">GTerm::ProcessOutput</a>(1, data);
00130     <a class="code" href="class_g_term.html#a3">GTerm::ProcessOutput</a>(1, data);
00131     data++;
00132     len--;
00133   }
00134 }
00135 
00136 <span class="keywordtype">void</span>
<a name="l00137"></a><a class="code" href="class_g_telnet.html#a4">00137</a> <a class="code" href="class_g_telnet.html#a4">GTelnet::ModeChange</a>(<span class="keywordtype">int</span> state)
00138 {
00139   <span class="keywordflow">if</span>(state &amp; PC)
00140   {
00141     <a class="code" href="class_g_telnet.html#a9">SendWill</a>(<a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a>);
00142     <a class="code" href="class_g_telnet.html#a8">SendDo</a>(<a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a>);
00143   }
00144   <span class="keywordflow">else</span>
00145   {
00146     <a class="code" href="class_g_telnet.html#a11">SendWont</a>(<a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a>);
00147     <a class="code" href="class_g_telnet.html#a10">SendDont</a>(<a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a>);
00148   }
00149   <a class="code" href="class_g_term.html#a29">GTerm::ModeChange</a>(state);
00150 }
00151 
00152 <span class="keywordtype">void</span>
<a name="l00153"></a><a class="code" href="class_g_telnet.html#a5">00153</a> <a class="code" href="class_g_telnet.html#a5">GTelnet::Reset</a>()
00154 {
00155   <a class="code" href="class_g_telnet.html#r2">telnet_binary_recv</a> = 0;
00156   <a class="code" href="class_g_telnet.html#r3">telnet_binary_send</a> = 0;
00157   <a class="code" href="class_g_telnet.html#r0">telnet_current_state</a> = telnet_normal_state;
00158   <a class="code" href="class_g_term.html#a10">GTerm::Reset</a>();
00159 }
00160 
00161 <span class="keywordtype">void</span>
<a name="l00162"></a><a class="code" href="class_g_telnet.html#a6">00162</a> <a class="code" href="class_g_telnet.html#a6">GTelnet::SetTermID</a>(<span class="keywordtype">char</span> *termId)
00163 {
00164   <span class="keywordflow">if</span>(<a class="code" href="class_g_telnet.html#r5">telnet_termid</a>)
00165     free(<a class="code" href="class_g_telnet.html#r5">telnet_termid</a>);
00166 
00167   <a class="code" href="class_g_telnet.html#r5">telnet_termid</a> = strdup(termId);
00168 }
00169 
00170 <span class="keywordtype">void</span> 
<a name="l00171"></a><a class="code" href="class_g_telnet.html#d0">00171</a> <a class="code" href="class_g_telnet.html#d0">GTelnet::telnet_iac</a>(<span class="keywordtype">void</span>)
00172 {
00173 <span class="comment">//printf("telnet_iac() called...\n");</span>
00174   <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a> = 0;
00175 <span class="comment">//printf("telnet_iac() exited...\n");    </span>
00176 }
00177 
00178 <span class="keywordtype">void</span> 
<a name="l00179"></a><a class="code" href="class_g_telnet.html#d1">00179</a> <a class="code" href="class_g_telnet.html#d1">GTelnet::telnet_binary_iac</a>(<span class="keywordtype">void</span>)
00180 {
00181 <span class="comment">//printf("telnet_binary_iac() called...\n");</span>
00182   <span class="keywordflow">if</span>(!<a class="code" href="class_g_telnet.html#r2">telnet_binary_recv</a>)
00183     <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a> = 0;
00184 }
00185 
00186 <span class="keywordtype">void</span>
<a name="l00187"></a><a class="code" href="class_g_telnet.html#d2">00187</a> <a class="code" href="class_g_telnet.html#d2">GTelnet::telnet_eat</a>(<span class="keywordtype">void</span>)
00188 {
00189 <span class="comment">//printf("telnet_eat() called...\n");</span>
00190   <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a> = 0;
00191 }
00192 
00193 <span class="keywordtype">void</span> 
<a name="l00194"></a><a class="code" href="class_g_telnet.html#d3">00194</a> <a class="code" href="class_g_telnet.html#d3">GTelnet::telnet_cmd</a>(<span class="keywordtype">void</span>)
00195 {
00196 <span class="comment">//printf("telnet_cmd() called with %d...\n", *telnet_input_data);</span>
00197   <a class="code" href="class_g_telnet.html#r1">telnet_lastcmd</a> = *<a class="code" href="class_g_telnet.html#r6">telnet_input_data</a>;
00198   <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a> = 0;
00199 <span class="comment">//printf("telnet_cmd() exited...\n");</span>
00200 }
00201 
00202 <span class="keywordtype">void</span>
<a name="l00203"></a><a class="code" href="class_g_telnet.html#d4">00203</a> <a class="code" href="class_g_telnet.html#d4">GTelnet::telnet_do</a>(<span class="keywordtype">void</span>)
00204 {
00205   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
00206     buf[4];
00207 
00208 <span class="comment">//printf("GTelnet::telnet_do(): ");    </span>
00209   <span class="keywordflow">switch</span>(*telnet_input_data)
00210   {
00211     <span class="keywordflow">case</span> <a class="code" href="class_g_telnet.html#w19w17">TERMINAL_TYPE</a> :
00212 <span class="comment">//printf("sending terminal type...\n");    </span>
00213       buf[0] = <a class="code" href="class_g_telnet.html#w18w0">IAC</a>;
00214       buf[1] = <a class="code" href="class_g_telnet.html#w18w12">WILL</a>;
00215       buf[2] = <a class="code" href="class_g_telnet.html#w19w17">TERMINAL_TYPE</a>;
00216       <a class="code" href="class_g_telnet.html#a3">ProcessOutput</a>(3, buf);
00217       buf[0] = IAC;
00218       buf[1] = <a class="code" href="class_g_telnet.html#w18w11">SB</a>;
00219       buf[2] = TERMINAL_TYPE;
00220       buf[3] = 0;
00221       <a class="code" href="class_g_telnet.html#a3">ProcessOutput</a>(4, buf);
00222       <a class="code" href="class_g_telnet.html#a3">ProcessOutput</a>(strlen(<a class="code" href="class_g_telnet.html#r5">telnet_termid</a>), (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code" href="class_g_telnet.html#r5">telnet_termid</a>);
00223       buf[0] = IAC;
00224       buf[1] = <a class="code" href="class_g_telnet.html#w18w1">SE</a>;
00225       <a class="code" href="class_g_telnet.html#a3">ProcessOutput</a>(2, buf);
00226     <span class="keywordflow">break</span>;
00227    
00228     <span class="keywordflow">case</span> <a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a> :
00229 <span class="comment">//printf("enabling binary recv mode...\n");    </span>
00230       <a class="code" href="class_g_telnet.html#r2">telnet_binary_recv</a> = 1;
00231     <span class="keywordflow">break</span>;
00232   }
00233   <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a> = 0;
00234 }
00235 
00236 <span class="keywordtype">void</span>
<a name="l00237"></a><a class="code" href="class_g_telnet.html#d5">00237</a> <a class="code" href="class_g_telnet.html#d5">GTelnet::telnet_will</a>(<span class="keywordtype">void</span>)
00238 {
00239 <span class="comment">//printf("GTelnet::telnet_will(): ");</span>
00240   <span class="keywordflow">switch</span>(*telnet_input_data)
00241   {
00242     <span class="keywordflow">case</span> <a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a> :
00243 <span class="comment">//printf("sending do binary...\n");    </span>
00244       <span class="keywordflow">if</span>(!<a class="code" href="class_g_telnet.html#r2">telnet_binary_recv</a>)
00245         <a class="code" href="class_g_telnet.html#a9">SendWill</a>(<a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a>);
00246       <span class="keywordflow">if</span>(!<a class="code" href="class_g_telnet.html#r3">telnet_binary_send</a>)
00247       {
00248         <a class="code" href="class_g_telnet.html#a8">SendDo</a>(<a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a>);
00249         <a class="code" href="class_g_telnet.html#r3">telnet_binary_send</a> = 1;
00250       }
00251     <span class="keywordflow">break</span>;
00252   }
00253   <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a> = 0;
00254 }
00255 
00256 <span class="keywordtype">void</span> 
<a name="l00257"></a><a class="code" href="class_g_telnet.html#d6">00257</a> <a class="code" href="class_g_telnet.html#d6">GTelnet::telnet_dont</a>(<span class="keywordtype">void</span>)
00258 {
00259   <span class="keywordflow">switch</span>(*telnet_input_data)
00260   {
00261     <span class="keywordflow">case</span> <a class="code" href="class_g_telnet.html#w19w16">TRANSMIT_BINARY</a> :
00262       <a class="code" href="class_g_telnet.html#r2">telnet_binary_recv</a> = 0;
00263     <span class="keywordflow">break</span>;
00264   }
00265   <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a> = 0;
00266 }
00267 
00268 <span class="keywordtype">void</span> 
<a name="l00269"></a><a class="code" href="class_g_telnet.html#d7">00269</a> <a class="code" href="class_g_telnet.html#d7">GTelnet::telnet_wont</a>(<span class="keywordtype">void</span>)
00270 {
00271 <span class="comment">//printf("telnet_wont() called (%d)...\n", *telnet_input_data);</span>
00272   <a class="code" href="class_g_telnet.html#a11">SendWont</a>(*<a class="code" href="class_g_telnet.html#r6">telnet_input_data</a>);
00273   <a class="code" href="class_g_telnet.html#r4">telnet_process_data</a> = 0;
00274 <span class="comment">//printf("telnet_wont() exited...\n");  </span>
00275 }
00276 
00277 <span class="keywordtype">void</span> 
<a name="l00278"></a><a class="code" href="class_g_telnet.html#a8">00278</a> <a class="code" href="class_g_telnet.html#a8">GTelnet::SendDo</a>(<span class="keywordtype">int</span> cmd)
00279 {
00280   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
00281     buf[3];
00282     
00283   buf[0] = <a class="code" href="class_g_telnet.html#w18w0">IAC</a>;
00284   buf[1] = <a class="code" href="class_g_telnet.html#w18w14">DO</a>;
00285   buf[2] = cmd;
00286   <a class="code" href="class_g_term.html#a27">SendBack</a>(3, (<span class="keywordtype">char</span> *)buf);
00287 }
00288 
00289 <span class="keywordtype">void</span> 
<a name="l00290"></a><a class="code" href="class_g_telnet.html#a9">00290</a> <a class="code" href="class_g_telnet.html#a9">GTelnet::SendWill</a>(<span class="keywordtype">int</span> cmd)
00291 {
00292   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
00293     buf[3];
00294     
00295   buf[0] = <a class="code" href="class_g_telnet.html#w18w0">IAC</a>;
00296   buf[1] = <a class="code" href="class_g_telnet.html#w18w12">WILL</a>;
00297   buf[2] = cmd;
00298   <a class="code" href="class_g_term.html#a27">SendBack</a>(3, (<span class="keywordtype">char</span> *)buf);
00299 }
00300 
00301 <span class="keywordtype">void</span>
<a name="l00302"></a><a class="code" href="class_g_telnet.html#a10">00302</a> <a class="code" href="class_g_telnet.html#a10">GTelnet::SendDont</a>(<span class="keywordtype">int</span> cmd)
00303 {
00304   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
00305     buf[3];
00306     
00307   buf[0] = <a class="code" href="class_g_telnet.html#w18w0">IAC</a>;
00308   buf[1] = <a class="code" href="class_g_telnet.html#w18w15">DONT</a>;
00309   buf[2] = cmd;
00310   <a class="code" href="class_g_term.html#a27">SendBack</a>(3, (<span class="keywordtype">char</span> *)buf);
00311 }
00312 
00313 <span class="keywordtype">void</span>
<a name="l00314"></a><a class="code" href="class_g_telnet.html#a11">00314</a> <a class="code" href="class_g_telnet.html#a11">GTelnet::SendWont</a>(<span class="keywordtype">int</span> cmd)
00315 {
00316   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>
00317     buf[3];
00318     
00319   buf[0] = <a class="code" href="class_g_telnet.html#w18w0">IAC</a>;
00320   buf[1] = <a class="code" href="class_g_telnet.html#w18w13">WONT</a>;
00321   buf[2] = cmd;
00322   <a class="code" href="class_g_term.html#a27">SendBack</a>(3, (<span class="keywordtype">char</span> *)buf);
00323 }
00324 
00325 
00326 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Apr 28 16:45:38 2004 for Chameleon by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
